
=========================
はじめてみよう
=========================

インストールして、適切に動くことを確認する手順についてまず説明する。
最初のイベントをしまう（隠す）方法を学んだ後、拡張したパイプラインを作成してみる。（inputでApacheのログを取って、そのログをパースして、Elasticsearchのクラスタにデータを書き込む。）
ばらばらのソースからのデータを統一する複数のinput、outputのプラグインをを一緒にひとまとめにするやり方を学ぶ。

---------------------------------------
インストール
---------------------------------------

.. admonition:: 要件
    :class: note

   Java8を要求。Java9は未サポート。Oracle JDK or OpenJDK を使う。


Linuxでは、インストール前にJAVA_HOME環境変数が必要。LogStashのインストール中に参照するから。


バイナリを使ってインストール
===================================
実際の環境にマッチするインストールファイルをダウンロードして、解凍する。
Linuxならパッケージマネージャを使える。


---------------------------------------
最初のイベントをしまう
---------------------------------------
まずは、もっとも基本的な Logstash pipepline を実行して、Logstashを試してみよう。

Logstashパイプラインは、input、outputの2つのエレメントを要求する。そして、オプションで filter も使う。
inputプラグインはソースからデータを消費する（consume）、filterはプラグインは指定したようにデータを変更する、outputプラグインは宛先にデータを書き込む。

  .. figure:: ../_static/basic_logstash_pipeline.png

     基本的なLogstashのパイプライン


Logstashをテストするために、以下のように実行する

  .. code-block:: console

     # cd logstatsh-6.2.3
     # bin/logstash -e 'input { stdin {} } output { stdout {} }'




---------------------------------------
ログのパース
---------------------------------------



---------------------------------------------------
複数のInput/Outputプラグインをひとまとめに
---------------------------------------------------
